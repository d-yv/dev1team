import{S as w,i as H,a as f,A as W,N as K,K as R,P as z}from"./assets/vendor-iKaUpIhi.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("[data-menu-open]"),t=document.querySelector("[data-menu-close]"),o=document.querySelector("[data-menu]"),r=document.querySelectorAll(".mobile-menu-link");e.addEventListener("click",()=>{o.classList.add("open"),document.body.classList.add("no-scroll")}),t.addEventListener("click",()=>{s()}),r.forEach(n=>{n.addEventListener("click",()=>{s()})});function s(){o.classList.remove("open"),document.body.classList.remove("no-scroll")}document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(c){c.preventDefault();const p=document.querySelector(this.getAttribute("href"));p&&p.scrollIntoView({behavior:"smooth"})})})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".custom-prev"),t=document.querySelector(".custom-next"),o=new w(".hero-swiper",{loop:!1,speed:600,slidesPerView:1,navigation:!1,on:{init:s,slideChange:s}});function r(n,c){n&&n.addEventListener("click",p=>{c(p),n.blur()})}r(e,()=>o.slidePrev()),r(t,()=>o.slideNext());function s(n){e.disabled=n.isBeginning,t.disabled=n.isEnd,e.classList.remove("active"),t.classList.remove("active"),n.isBeginning?e.classList.add("active"):n.isEnd&&t.classList.add("active")}});function l(e,t){const o={title:t,titleColor:e,position:"bottomRight"};return H.show(o)}const i=document.getElementById("modal"),F=document.querySelector(".close-button"),Q=document.querySelector(".books-list"),b=i.querySelector("#quantity"),U=i.querySelector("#increase"),Y=i.querySelector("#decrease"),G=i.querySelector(".book-add-to-card"),J=i.querySelector(".book-buy-now");Q.addEventListener("click",async e=>{if(e.target.classList.contains("book-learn-more")){const t=e.target.getAttribute("data-id"),o=await X(t);o&&Z(o)}});F.addEventListener("click",()=>{i.style.display="none",document.body.classList.remove("no-scroll")});window.addEventListener("click",e=>{e.target===i&&(i.style.display="none",document.body.classList.remove("no-scroll"))});U.addEventListener("click",()=>{b.value=parseInt(b.value)+1});Y.addEventListener("click",()=>{const e=parseInt(b.value);e>1&&(b.value=e-1)});G.addEventListener("click",()=>{const e=parseInt(b.value);l("green",`${e} book(s) successfully added to your cart.`)});J.addEventListener("click",()=>{l("green","Thank you!, Your purchase was successful.")});async function X(e){try{return(await f.get(`/books/${e}`)).data}catch(t){return console.error("Error getting a book:",t.message),null}}function Z(e){document.body.classList.add("no-scroll"),i.querySelector(".modal-book-image").src=e.book_image||"./img/placeholder.jpg",i.querySelector("h3").innerText=e.title||"No title",i.querySelector(".modal-author").innerText=e.author||"Unknown author",i.querySelector(".book-card-price").innerText=e.price?`$${e.price}`:"N/A",ee(e),b.value=1,i.style.display="flex"}function ee(e){const t=i.querySelector(".accordion-list");t.innerHTML=`
    <div class="accordion-container">
      <div class="ac accordion-item">
        <h2 class="ac-header">
          <button type="button" class="ac-trigger">Details</button>
        </h2>
        <div class="ac-panel">
          <p class="ac-text book-details">${e.description||"No details"}</p>
        </div>
      </div>
      <div class="ac accordion-item">
        <h2 class="ac-header">
          <button type="button" class="ac-trigger">Shipping</button>
        </h2>
        <div class="ac-panel">
          <p class="ac-text book-shipping">${e.amazon_product_url||"Shipping info not available"}</p>
        </div>
      </div>
      <div class="ac accordion-item">
        <h2 class="ac-header">
          <button type="button" class="ac-trigger">Returns</button>
        </h2>
        <div class="ac-panel">
          <p class="ac-text book-returns">${e.contributor||"No return policy info"}</p>
        </div>
      </div>
    </div>
  `,new W(".accordion-container",{duration:400,showMultiple:!0})}f.defaults.baseURL="https://books-backend.p.goit.global";document.querySelector(".books-categories");const M=document.querySelector(".books-category"),A=document.querySelector(".books-list"),S=document.querySelector(".books-load-more"),te=document.querySelector(".books-options-container"),oe=document.querySelector(".books-all-quantity"),ne=document.querySelector(".books-carrent-quantity");document.querySelector("books-loader");M.addEventListener("click",P);te.addEventListener("click",P);let m=[],y=1,se=window.innerWidth,d=10,L=0;se>=1440&&(d=24);async function re(){try{const{data:e}=await f.get("/books/category-list");ce(e)}catch(e){console.error("Error fetching categories:",e.message)}}re();async function I(e){try{const{data:t}=await f.get("/books/top-books");e(t)}catch(t){console.error("Error fetching top-books:",t.message)}}I(T);async function ie(e){try{const{data:t}=await f.get("/books/category",{params:{category:e}});le(t)}catch(t){console.error("Error fetching books by category:",t.message)}}function P(e){let t=e.target.getAttribute("data-category-name");t==="books-all-categories"?I(T):ie(t),ae(t)}function ae(e){document.querySelectorAll(".books-category-item").forEach(r=>{r.classList.remove("selected")});const o=document.querySelector(`.books-category-item[data-category-name="${e}"]`);o&&o.classList.add("selected")}function ce(e){if(window.innerWidth<1440){const t=document.querySelector(".books-selected"),o=document.querySelector(".books-options-container"),r=e.map(n=>`<div class="books-option" data-category-name="${n.list_name}">${n.list_name}</div>`).join("");o.insertAdjacentHTML("beforeend",r),t.addEventListener("click",()=>{o.classList.toggle("active")}),document.querySelectorAll(".books-option").forEach(n=>{n.addEventListener("click",()=>{t.innerText=n.innerText,o.classList.remove("active")})}),document.addEventListener("click",n=>{!t.contains(n.target)&&!o.contains(n.target)&&o.classList.remove("active")})}else{const t=e.map(o=>`<li class="books-category-item" data-category-name="${o.list_name}">${o.list_name}</li>`).join("");M.insertAdjacentHTML("beforeend",t)}}function T(e){A.innerHTML="",m=[];for(const t of e){const o=t.books;for(let r=0;r<o.length;r+=1)m.push(o[r])}y=1,L=0,x()}function le(e){A.innerHTML="",m=e,y=1,L=0,x()}function x(){let e="";const t=m.slice((y-1)*d,(y-1)*d+d);for(const o of t){let r=de(o);e+=r,L++}A.insertAdjacentHTML("beforeend",e),y*d<m.length?S.style.display="inline":S.style.display="none",oe.textContent=m.length,ne.textContent=L}function de(e){return` 
        <li class="books-item" data-id="${e._id}">
            <img src="${e.book_image}" alt="${e.title}" />
            <div class="book-card-content">
                <div class="book-card-heading">
                <h3>${e.title}</h3>
                <p>${e.author}</p>
                </div>
                <div class="book-card-price">$${parseInt(e.price,10)}</div>
            </div>
            <button class="book-learn-more" data-id="${e._id}">Learn more</button>
        </li>
    `}S.addEventListener("click",e=>{y+=1,d=4,x()});w.use([K,R,z]);function C(e){const t=document.querySelector(".feedbacks-button-prev"),o=document.querySelector(".feedbacks-button-next");t.blur(),o.blur(),e.isBeginning?(t.disabled=!0,t.classList.add("disabled")):(t.disabled=!1,t.classList.remove("disabled")),e.isEnd?(o.disabled=!0,o.classList.add("disabled")):(o.disabled=!1,o.classList.remove("disabled"))}new w(".feedbacks-swiper",{slidesPerView:1,slidesPerGroup:1,spaceBetween:24,loop:!1,navigation:{nextEl:".feedbacks-button-next",prevEl:".feedbacks-button-prev"},pagination:{el:".feedbacks-pagination",clickable:!1},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}},on:{init(e){C(e)},slideChange(e){C(e)}}});document.querySelectorAll(".feedbacks-pagination .swiper-pagination-bullet").forEach(e=>{e.removeAttribute("role"),e.removeAttribute("tabindex"),e.removeAttribute("aria-label")});let u,$,v,N,g,D=!1;function O(e){if(!D&&!ue()){setTimeout(()=>O(e),30);return}N.textContent=e,u.classList.remove("visually-hidden"),document.body.style.overflow="hidden"}function k(){u.classList.add("visually-hidden"),document.body.style.overflow=""}function ue(){return u=document.getElementById("events-modal-backdrop"),u?($=document.getElementById("events-modal-close"),v=document.getElementById("events-modal-form"),N=document.getElementById("events-modal-event-name"),$.addEventListener("click",k),u.addEventListener("click",e=>e.target===u&&k()),document.addEventListener("keydown",e=>e.key==="Escape"&&k()),g=v.querySelectorAll("input[name], textarea[name]"),g.forEach(e=>{e.addEventListener("input",()=>{e.validity.valid?e.classList.remove("invalid"):e.classList.add("invalid")})}),v.addEventListener("submit",e=>{e.preventDefault();const t=Array.from(g).find(o=>!o.validity.valid);if(t){t.classList.add("invalid"),l("red",t.validationMessage),t.focus();return}l("green","Thank you for registering!"),v.reset(),g.forEach(o=>o.classList.remove("invalid")),k()}),D=!0,!0):!1}const me=document.querySelector(".events-swiper .swiper-wrapper"),V=document.querySelector(".events-btn-prev"),_=document.querySelector(".events-btn-next"),B=new w(".events-swiper",{slidesPerView:1,spaceBetween:5,keyboard:{enabled:!0},pagination:{el:".event-swiper-pagination",clickable:!0},navigation:{nextEl:_,prevEl:V},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});function j(e){V.disabled=e.isBeginning,_.disabled=e.isEnd}j(B);B.on("slideChange",()=>j(B));me.addEventListener("click",e=>{const t=e.target.closest(".event-register");t&&O(t.dataset.title)});const h={email:""},E=document.querySelector(".footer-form"),a=E.elements.email;E.addEventListener("input",e=>{e.target.name==="email"&&(h.email=e.target.value.trim(),a.style.borderColor="rgba(11, 5, 0, 0.60)",a.style.color="#0B0500")});E.addEventListener("submit",e=>{const t="#AD0000",o="#AD0000";if(a.style.borderColor="rgba(11, 5, 0, 0.60)",a.style.color="#0B0500",e.preventDefault(),h.email===""){l("red","Fill please all fields."),a.style.borderColor=t,a.style.color=o;return}if(!a.checkValidity()){l("red","Please enter a valid email address."),a.style.borderColor=t,a.style.color=o;return}console.log(h),l("green","Message sent successfully!"),h.email="",E.reset()});const q=document.querySelector(".scroll-up");window.addEventListener("scroll",()=>{window.scrollY>300?q.classList.add("show"):q.classList.remove("show")});q.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
//# sourceMappingURL=index.js.map
