import{S,i as Q,a as p,A as U,N as Y,K as G,P as J}from"./assets/vendor-iKaUpIhi.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("[data-menu-open]"),t=document.querySelector("[data-menu-close]"),n=document.querySelector("[data-menu]"),r=document.querySelectorAll(".mobile-menu-link");e.addEventListener("click",()=>{n.classList.add("open"),document.body.classList.add("no-scroll")}),t.addEventListener("click",()=>{s()}),r.forEach(o=>{o.addEventListener("click",()=>{s()})});function s(){n.classList.remove("open"),document.body.classList.remove("no-scroll")}document.querySelectorAll('a[href^="#"]').forEach(o=>{o.addEventListener("click",function(l){l.preventDefault();const v=document.querySelector(this.getAttribute("href"));v&&v.scrollIntoView({behavior:"smooth"})})})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".custom-prev"),t=document.querySelector(".custom-next"),n=new S(".hero-swiper",{loop:!1,speed:600,slidesPerView:1,navigation:!1,on:{init:s,slideChange:s}});function r(o,l){o&&o.addEventListener("click",v=>{l(v),o.blur()})}r(e,()=>n.slidePrev()),r(t,()=>n.slideNext());function s(o){e.disabled=o.isBeginning,t.disabled=o.isEnd,e.classList.remove("active"),t.classList.remove("active"),o.isBeginning?e.classList.add("active"):o.isEnd&&t.classList.add("active")}});function d(e,t){const n={title:t,titleColor:e,position:"bottomRight",zindex:9999};return Q.show(n)}const a=document.getElementById("modal"),X=document.querySelector(".close-button"),Z=document.querySelector(".books-list"),m=a.querySelector("#quantity"),ee=a.querySelector("#increase"),te=a.querySelector("#decrease"),oe=a.querySelector(".book-add-to-card"),ne=a.querySelector(".book-buy-now");Z.addEventListener("click",async e=>{if(e.target.classList.contains("book-learn-more")){const t=e.target.getAttribute("data-id"),n=await se(t);n&&re(n)}});X.addEventListener("click",()=>{a.style.display="none",document.body.classList.remove("no-scroll")});window.addEventListener("click",e=>{e.target===a&&(a.style.display="none",document.body.classList.remove("no-scroll"))});ee.addEventListener("click",()=>{m.value=parseInt(m.value)+1});te.addEventListener("click",()=>{const e=parseInt(m.value);e>1&&(m.value=e-1)});oe.addEventListener("click",()=>{const e=parseInt(m.value);d("green",`${e} book(s) successfully added to your cart.`)});ne.addEventListener("click",()=>{d("green","Thank you!, Your purchase was successful.")});async function se(e){try{return(await p.get(`/books/${e}`)).data}catch(t){return console.error("Error getting a book:",t.message),null}}function re(e){document.body.classList.add("no-scroll"),a.querySelector(".modal-book-image").src=e.book_image||"./img/placeholder.jpg",a.querySelector("h3").innerText=e.title||"No title",a.querySelector(".modal-author").innerText=e.author||"Unknown author",a.querySelector(".book-card-price").innerText=e.price?`$${e.price}`:"N/A",ae(e),m.value=1,a.style.display="flex"}function ae(e){const t=a.querySelector(".accordion-list");t.innerHTML=`
    <div class="accordion-container">
      <div class="ac accordion-item">
        <h2 class="ac-header">
          <button type="button" class="ac-trigger">Details</button>
        </h2>
        <div class="ac-panel">
          <p class="ac-text book-details">${e.description||"No details"}</p>
        </div>
      </div>
      <div class="ac accordion-item">
        <h2 class="ac-header">
          <button type="button" class="ac-trigger">Shipping</button>
        </h2>
        <div class="ac-panel">
          <p class="ac-text book-shipping">${e.amazon_product_url||"Shipping info not available"}</p>
        </div>
      </div>
      <div class="ac accordion-item">
        <h2 class="ac-header">
          <button type="button" class="ac-trigger">Returns</button>
        </h2>
        <div class="ac-panel">
          <p class="ac-text book-returns">${e.contributor||"No return policy info"}</p>
        </div>
      </div>
    </div>
  `,new U(".accordion-container",{duration:400,showMultiple:!0})}const N=document.querySelector(".loader");function A(){N.style.display="block"}function M(){N.style.display="none"}p.defaults.baseURL="https://books-backend.p.goit.global";const w=document.querySelector(".books-category"),i=document.querySelector(".books-options-container"),T=document.querySelector(".books-list"),D=document.querySelector(".books-show-more"),ie=document.querySelector(".books-all-quantity"),ce=document.querySelector(".books-carrent-quantity");w.addEventListener("click",$);i.addEventListener("click",$);let y=[],b=1,f=0,B=window.innerWidth>=1440?24:10,I;window.addEventListener("resize",()=>{clearTimeout(I),I=setTimeout(()=>{w.innerHTML="",i.innerHTML="",H()},300)});H();V(O);async function H(){try{A();const{data:e}=await p.get("/books/category-list");ue(e)}catch(e){console.error("Error fetching categories:",e.message)}finally{M()}}async function V(e){try{A();const{data:t}=await p.get("/books/top-books");e(t)}catch(t){console.error("Error fetching top-books:",t.message)}finally{M()}}async function le(e){try{A();const{data:t}=await p.get("/books/category",{params:{category:e}});me(t)}catch(t){console.error("Error fetching category books:",t.message)}finally{M()}}function $(e){const t=e.target.getAttribute("data-category-name");t&&(t==="books-all-categories"?V(O):le(t),de(t))}function de(e){document.querySelectorAll(".books-category-item").forEach(n=>n.classList.remove("selected"));const t=document.querySelector(`.books-category-item[data-category-name="${e}"]`);t&&t.classList.add("selected")}function ue(e){const t={list_name:"books-all-categories",label:"All categories"},n=[t,...e];w.innerHTML="",i.innerHTML="";const r=document.querySelector(".books-selected");if(r&&(r.innerText=t.label),i.classList.remove("active"),window.innerWidth<1440){const s=n.map(o=>`<div class="books-option" data-category-name="${o.list_name}">
          ${o.label||o.list_name}
        </div>`).join("");i.insertAdjacentHTML("beforeend",s),document.querySelectorAll(".books-option").forEach(o=>{o.addEventListener("click",()=>{r&&(r.innerText=o.innerText),i.classList.remove("active"),$({target:o})})}),r&&(r.onclick=()=>{i.classList.toggle("active")}),document.addEventListener("click",o=>{!i.contains(o.target)&&!r.contains(o.target)&&i.classList.remove("active")})}else{const s=n.map(o=>`<li class="books-category-item${o.list_name==="books-all-categories"?" selected":""}" data-category-name="${o.list_name}">
        ${o.label||o.list_name}
      </li>`).join("");w.insertAdjacentHTML("beforeend",s)}}function O(e){T.innerHTML="",y=e.flatMap(t=>t.books),b=1,f=0,C()}function me(e){T.innerHTML="",y=e,b=1,f=0,C()}function C(){const e=y.slice((b-1)*B,b*B),t=e.map(ye).join("");T.insertAdjacentHTML("beforeend",t),f+=e.length,ie.textContent=y.length,ce.textContent=f,D.style.display=f<y.length?"inline":"none"}function ye(e){return`
    <li class="books-item" data-id="${e._id}">
      <img src="${e.book_image}" alt="${e.title}" width="${e.book_image_width}" height="${e.book_image_height}" />
      <div class="book-card-content">
        <div class="book-card-heading">
          <h3>${e.title}</h3>
          <p>${e.author}</p>
        </div>
        <div class="book-card-price">$${parseInt(e.price,10)}</div>
      </div>
      <button class="book-learn-more" data-id="${e._id}">Learn more</button>
    </li>
  `}D.addEventListener("click",()=>{b++,B=4,C()});S.use([Y,G,J]);function P(e){const t=document.querySelector(".feedbacks-button-prev"),n=document.querySelector(".feedbacks-button-next");t.blur(),n.blur(),e.isBeginning?(t.disabled=!0,t.classList.add("disabled")):(t.disabled=!1,t.classList.remove("disabled")),e.isEnd?(n.disabled=!0,n.classList.add("disabled")):(n.disabled=!1,n.classList.remove("disabled"))}new S(".feedbacks-swiper",{slidesPerView:1,slidesPerGroup:1,spaceBetween:24,loop:!1,navigation:{nextEl:".feedbacks-button-next",prevEl:".feedbacks-button-prev"},pagination:{el:".feedbacks-pagination",clickable:!1},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}},on:{init(e){P(e)},slideChange(e){P(e)}}});document.querySelectorAll(".feedbacks-pagination .swiper-pagination-bullet").forEach(e=>{e.removeAttribute("role"),e.removeAttribute("tabindex"),e.removeAttribute("aria-label")});let u,_,g,j,k,z=!1;function W(e){if(!z&&!fe()){setTimeout(()=>W(e),30);return}j.textContent=e,u.classList.remove("visually-hidden"),document.body.style.overflow="hidden"}function h(){u.classList.add("visually-hidden"),document.body.style.overflow=""}function fe(){return u=document.getElementById("events-modal-backdrop"),u?(_=document.getElementById("events-modal-close"),g=document.getElementById("events-modal-form"),j=document.getElementById("events-modal-event-name"),_.addEventListener("click",h),u.addEventListener("click",e=>e.target===u&&h()),document.addEventListener("keydown",e=>e.key==="Escape"&&h()),k=g.querySelectorAll("input[name], textarea[name]"),k.forEach(e=>{e.addEventListener("input",()=>{e.validity.valid?e.classList.remove("invalid"):e.classList.add("invalid")})}),g.addEventListener("submit",e=>{e.preventDefault();const t=Array.from(k).find(n=>!n.validity.valid);if(t){t.classList.add("invalid"),d("red",t.validationMessage),t.focus();return}d("green","Thank you for registering!"),g.reset(),k.forEach(n=>n.classList.remove("invalid")),h()}),z=!0,!0):!1}const be=document.querySelector(".events-swiper .swiper-wrapper"),K=document.querySelector(".events-btn-prev"),R=document.querySelector(".events-btn-next"),q=new S(".events-swiper",{slidesPerView:1,spaceBetween:5,keyboard:{enabled:!0},pagination:{el:".event-swiper-pagination",clickable:!0},navigation:{nextEl:R,prevEl:K},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});function F(e){K.disabled=e.isBeginning,R.disabled=e.isEnd}F(q);q.on("slideChange",()=>F(q));be.addEventListener("click",e=>{const t=e.target.closest(".event-register");t&&W(t.dataset.title)});const L={email:""},E=document.querySelector(".footer-form"),c=E.elements.email;E.addEventListener("input",e=>{e.target.name==="email"&&(L.email=e.target.value.trim(),c.style.borderColor="rgba(11, 5, 0, 0.60)",c.style.color="#0B0500")});E.addEventListener("submit",e=>{const t="#AD0000",n="#AD0000";if(c.style.borderColor="rgba(11, 5, 0, 0.60)",c.style.color="#0B0500",e.preventDefault(),L.email===""){d("red","Fill please all fields."),c.style.borderColor=t,c.style.color=n;return}if(!c.checkValidity()){d("red","Please enter a valid email address."),c.style.borderColor=t,c.style.color=n;return}console.log(L),d("green","Message sent successfully!"),L.email="",E.reset()});const x=document.querySelector(".scroll-up");window.addEventListener("scroll",()=>{window.scrollY>300?x.classList.add("show"):x.classList.remove("show")});x.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
//# sourceMappingURL=index.js.map
