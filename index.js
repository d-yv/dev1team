import{S as B,i as Y,a as v,A as F,N as Q,K as G,P as J}from"./assets/vendor-iKaUpIhi.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("[data-menu-open]"),t=document.querySelector("[data-menu-close]"),n=document.querySelector("[data-menu]"),r=document.querySelectorAll(".mobile-menu-link");e.addEventListener("click",()=>{n.classList.add("open"),document.body.classList.add("no-scroll")}),t.addEventListener("click",()=>{s()}),r.forEach(o=>{o.addEventListener("click",()=>{s()})});function s(){n.classList.remove("open"),document.body.classList.remove("no-scroll")}document.querySelectorAll('a[href^="#"]').forEach(o=>{o.addEventListener("click",function(l){l.preventDefault();const g=document.querySelector(this.getAttribute("href"));g&&g.scrollIntoView({behavior:"smooth"})})})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".custom-prev"),t=document.querySelector(".custom-next"),n=new B(".hero-swiper",{loop:!1,speed:600,slidesPerView:1,navigation:!1,on:{init:s,slideChange:s}});function r(o,l){o&&o.addEventListener("click",g=>{l(g),o.blur()})}r(e,()=>n.slidePrev()),r(t,()=>n.slideNext());function s(o){e.disabled=o.isBeginning,t.disabled=o.isEnd,e.classList.remove("active"),t.classList.remove("active"),o.isBeginning?e.classList.add("active"):o.isEnd&&t.classList.add("active")}});function d(e,t){const n={title:t,titleColor:e,position:"bottomRight",zindex:9999};return Y.show(n)}const i=document.getElementById("modal"),X=document.querySelector(".close-button"),Z=document.querySelector(".books-list"),m=i.querySelector("#quantity"),ee=i.querySelector("#increase"),te=i.querySelector("#decrease"),oe=i.querySelector(".book-add-to-card"),ne=i.querySelector(".book-buy-now");Z.addEventListener("click",async e=>{if(e.target.classList.contains("book-learn-more")){const t=e.target.getAttribute("data-id"),n=await se(t);n&&re(n)}});X.addEventListener("click",()=>{i.style.display="none",document.body.classList.remove("no-scroll")});window.addEventListener("click",e=>{e.target===i&&(i.style.display="none",document.body.classList.remove("no-scroll"))});ee.addEventListener("click",()=>{m.value=parseInt(m.value)+1});te.addEventListener("click",()=>{const e=parseInt(m.value);e>1&&(m.value=e-1)});oe.addEventListener("click",()=>{const e=parseInt(m.value);d("green",`${e} book(s) successfully added to your cart.`)});ne.addEventListener("click",()=>{d("green","Thank you!, Your purchase was successful.")});async function se(e){try{return(await v.get(`/books/${e}`)).data}catch(t){return console.error("Error getting a book:",t.message),null}}function re(e){document.body.classList.add("no-scroll"),i.querySelector(".modal-book-image").src=e.book_image||"./img/placeholder.jpg",i.querySelector(".book-modal-title").innerText=e.title||"No title",i.querySelector(".modal-author").innerText=e.author||"Unknown author",i.querySelector(".book-card-price").innerText=e.price?`$${e.price}`:"N/A",ie(e),m.value=1,i.style.display="flex"}function ie(e){const t=i.querySelector(".accordion-list");t.innerHTML=`
    <div class="accordion-container">
      <div class="ac accordion-item">
        <h2 class="ac-header">
          <button type="button" class="ac-trigger">Details</button>
        </h2>
        <div class="ac-panel">
          <p class="ac-text book-details">${e.description||"No details"}</p>
        </div>
      </div>
      <div class="ac accordion-item">
        <h2 class="ac-header">
          <button type="button" class="ac-trigger">Shipping</button>
        </h2>
        <div class="ac-panel">
          <p class="ac-text book-shipping">We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.</p>
        </div>
      </div>
      <div class="ac accordion-item">
        <h2 class="ac-header">
          <button type="button" class="ac-trigger">Returns</button>
        </h2>
        <div class="ac-panel">
          <p class="ac-text book-returns">You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.</p>
        </div>
      </div>
    </div>
  `,new F(".accordion-container",{duration:400,showMultiple:!0})}const D=document.querySelector(".loader");function A(){D.style.display="block"}function M(){D.style.display="none"}v.defaults.baseURL="https://books-backend.p.goit.global";const E=document.querySelector(".books-category"),a=document.querySelector(".books-options-container"),T=document.querySelector(".books-list"),H=document.querySelector(".books-show-more"),ae=document.querySelector(".books-all-quantity"),ce=document.querySelector(".books-carrent-quantity");E.addEventListener("click",$);a.addEventListener("click",$);let y=[],p=1,f=0,b=window.innerWidth>=1440?24:10,le=b,I;window.addEventListener("resize",()=>{clearTimeout(I),I=setTimeout(()=>{E.innerHTML="",a.innerHTML="",V()},300)});V();_(j);async function V(){try{A();const{data:e}=await v.get("/books/category-list");me(e)}catch(e){console.error("Error fetching categories:",e.message)}finally{M()}}async function _(e){try{A();const{data:t}=await v.get("/books/top-books");e(t)}catch(t){console.error("Error fetching top-books:",t.message)}finally{M()}}async function de(e){try{A();const{data:t}=await v.get("/books/category",{params:{category:e}});ye(t)}catch(t){console.error("Error fetching category books:",t.message)}finally{M()}}function $(e){const t=e.target.getAttribute("data-category-name");t&&(b=le,t==="books-all-categories"?_(j):de(t),ue(t))}function ue(e){document.querySelectorAll(".books-category-item").forEach(n=>n.classList.remove("selected"));const t=document.querySelector(`.books-category-item[data-category-name="${e}"]`);t&&t.classList.add("selected")}function me(e){const t={list_name:"books-all-categories",label:"All categories"},n=[t,...e];E.innerHTML="",a.innerHTML="";const r=document.querySelector(".books-selected");if(r&&(r.innerText=t.label),a.classList.remove("active"),window.innerWidth<1440){const s=n.map(o=>`<div class="books-option" data-category-name="${o.list_name}">
          ${o.label||o.list_name}
        </div>`).join("");a.insertAdjacentHTML("beforeend",s),document.querySelectorAll(".books-option").forEach(o=>{o.addEventListener("click",()=>{r&&(r.innerText=o.innerText),a.classList.remove("active"),$({target:o})})}),r&&(r.onclick=()=>{a.classList.toggle("active")}),document.addEventListener("click",o=>{!a.contains(o.target)&&!r.contains(o.target)&&a.classList.remove("active")})}else{const s=n.map(o=>`<li class="books-category-item${o.list_name==="books-all-categories"?" selected":""}" data-category-name="${o.list_name}">
        ${o.label||o.list_name}
      </li>`).join("");E.insertAdjacentHTML("beforeend",s)}}function j(e){T.innerHTML="",y=e.flatMap(t=>t.books),p=1,f=0,C()}function ye(e){T.innerHTML="",y=e,p=1,f=0,C()}function C(){const e=y.slice((p-1)*b,p*b),t=e.map(fe).join("");T.insertAdjacentHTML("beforeend",t),f+=e.length,ae.textContent=y.length,ce.textContent=f,H.style.display=f<y.length?"inline":"none"}function fe(e){return`
    <li class="books-item" data-id="${e._id}">
      <img src="${e.book_image}" alt="${e.title}" fetchpriority="high" />
      <div class="book-card-content">
        <div class="book-card-heading">
          <h3>${e.title}</h3>
          <p>${e.author}</p>
        </div>
        <div class="book-card-price">$${parseInt(e.price,10)}</div>
      </div>
      <button class="book-learn-more" data-id="${e._id}">Learn more</button>
    </li>
  `}H.addEventListener("click",()=>{p++,b=4,C()});B.use([Q,G,J]);function P(e){const t=document.querySelector(".feedbacks-button-prev"),n=document.querySelector(".feedbacks-button-next");t.blur(),n.blur(),e.isBeginning?(t.disabled=!0,t.classList.add("disabled")):(t.disabled=!1,t.classList.remove("disabled")),e.isEnd?(n.disabled=!0,n.classList.add("disabled")):(n.disabled=!1,n.classList.remove("disabled"))}new B(".feedbacks-swiper",{slidesPerView:1,slidesPerGroup:1,spaceBetween:24,loop:!1,navigation:{nextEl:".feedbacks-button-next",prevEl:".feedbacks-button-prev"},pagination:{el:".feedbacks-pagination",clickable:!1},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}},on:{init(e){P(e)},slideChange(e){P(e)}}});document.querySelectorAll(".feedbacks-pagination .swiper-pagination-bullet").forEach(e=>{e.removeAttribute("role"),e.removeAttribute("tabindex"),e.removeAttribute("aria-label")});let u,N,k,O,h,W=!1;function z(e){if(!W&&!pe()){setTimeout(()=>z(e),30);return}O.textContent=e,u.classList.remove("visually-hidden"),document.body.style.overflow="hidden"}function L(){u.classList.add("visually-hidden"),document.body.style.overflow=""}function pe(){return u=document.getElementById("events-modal-backdrop"),u?(N=document.getElementById("events-modal-close"),k=document.getElementById("events-modal-form"),O=document.getElementById("events-modal-event-name"),N.addEventListener("click",L),u.addEventListener("click",e=>e.target===u&&L()),document.addEventListener("keydown",e=>e.key==="Escape"&&L()),h=k.querySelectorAll("input[name], textarea[name]"),h.forEach(e=>{e.addEventListener("input",()=>{e.validity.valid?e.classList.remove("invalid"):e.classList.add("invalid")})}),k.addEventListener("submit",e=>{e.preventDefault();const t=Array.from(h).find(n=>!n.validity.valid);if(t){t.classList.add("invalid"),d("red",t.validationMessage),t.focus();return}d("green","Thank you for registering!"),k.reset(),h.forEach(n=>n.classList.remove("invalid")),L()}),W=!0,!0):!1}const be=document.querySelector(".events-swiper .swiper-wrapper"),U=document.querySelector(".events-btn-prev"),K=document.querySelector(".events-btn-next"),q=new B(".events-swiper",{slidesPerView:1,spaceBetween:5,keyboard:{enabled:!0},pagination:{el:".event-swiper-pagination",clickable:!0},navigation:{nextEl:K,prevEl:U},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});function R(e){U.disabled=e.isBeginning,K.disabled=e.isEnd}R(q);q.on("slideChange",()=>R(q));be.addEventListener("click",e=>{const t=e.target.closest(".event-register");t&&z(t.dataset.title)});const w={email:""},S=document.querySelector(".footer-form"),c=S.elements.email;S.addEventListener("input",e=>{e.target.name==="email"&&(w.email=e.target.value.trim(),c.style.borderColor="rgba(11, 5, 0, 0.60)",c.style.color="#0B0500")});S.addEventListener("submit",e=>{const t="#AD0000",n="#AD0000";if(c.style.borderColor="rgba(11, 5, 0, 0.60)",c.style.color="#0B0500",e.preventDefault(),w.email===""){d("red","Fill please all fields."),c.style.borderColor=t,c.style.color=n;return}if(!c.checkValidity()){d("red","Please enter a valid email address."),c.style.borderColor=t,c.style.color=n;return}console.log(w),d("green","Message sent successfully!"),w.email="",S.reset()});const x=document.querySelector(".scroll-up");window.addEventListener("scroll",()=>{window.scrollY>300?x.classList.add("show"):x.classList.remove("show")});x.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
//# sourceMappingURL=index.js.map
