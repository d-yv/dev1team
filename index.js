import{S as g,A as E,a as l,N as S,K as $,P as B}from"./assets/vendor-BtOhln4N.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("[data-menu-open]"),t=document.querySelector("[data-menu-close]"),o=document.querySelector("[data-menu]"),i=document.querySelectorAll(".mobile-menu-link");e.addEventListener("click",()=>{o.classList.add("open"),document.body.classList.add("no-scroll")}),t.addEventListener("click",()=>{s()}),i.forEach(n=>{n.addEventListener("click",()=>{s()})});function s(){o.classList.remove("open"),document.body.classList.remove("no-scroll")}document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(r){r.preventDefault();const d=document.querySelector(this.getAttribute("href"));d&&d.scrollIntoView({behavior:"smooth"})})})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".custom-prev"),t=document.querySelector(".custom-next"),o=new g(".hero-swiper",{loop:!1,speed:600,slidesPerView:1,navigation:!1,on:{init:s,slideChange:s}});function i(n,r){n&&n.addEventListener("click",d=>{r(d),n.blur()})}i(e,()=>o.slidePrev()),i(t,()=>o.slideNext());function s(n){e.disabled=n.isBeginning,t.disabled=n.isEnd,e.classList.remove("active"),t.classList.remove("active"),n.isBeginning?e.classList.add("active"):n.isEnd&&t.classList.add("active")}});new E(".accordion-container",{duration:400,showMultiple:!0});const a=document.getElementById("modal"),q=document.querySelector(".close-button"),C=document.querySelector(".books-list");C.addEventListener("click",async e=>{if(e.target.classList.contains("book-learn-more")){const t=e.target.getAttribute("data-id"),o=await j(t);A(o)}});async function j(e){try{return(await l.get(`/books/${e}`)).data}catch(t){console.error("Error fetching book by ID:",t.message)}}function A(e){a.querySelector(".modal-book-image").src=e.book_image,a.querySelector("h3").innerText=e.title,a.querySelector(".modal-author").innerText=e.author,a.querySelector(".book-card-price").innerText="$"+e.price;const t=document.querySelector(".book-details"),o=document.querySelector(".book-shipping"),i=document.querySelector(".book-returns");t.innerText=e.description,o.innerText=e.amazon_product_url,i.innerText=e.contributor,a.style.display="block"}q.addEventListener("click",()=>{a.style.display="none"});window.addEventListener("click",e=>{e.target===a&&(a.style.display="none")});l.defaults.baseURL="https://books-backend.p.goit.global";document.querySelector(".books-categories");const h=document.querySelector(".books-category"),u=document.querySelector(".books-list");document.querySelector(".books-load-more");const v=document.querySelector(".books-category-select");async function k(){try{const{data:e}=await l.get("/books/category-list"),t={list_name:"All categories"};return console.log("allCategoriesOption ",t),[t,...e]}catch(e){return console.error("Помилка при отриманні категорій:",e.message),[{list_name:"All categories"}]}}k().then(e=>{console.log("allCategoriesOptionB: ",e),x(e)}).catch(e=>{console.log(e.message)});function x(e){window.innerWidth>=1440?(h.insertAdjacentHTML("beforeend",M(e)),f()):(v.insertAdjacentHTML("beforeend",T(e)),f())}function M(e){const t='<li class="books-category-item" data-category-name="All categories">All categories</li>',o=e.map(i=>`
        <li class="books-category-item" data-category-name="${i.list_name}">${i.list_name}</li>
    `).join("");return t+o}function T(e){const t='<option>Categories</option><option value="">All categories</option>',o=e.map(i=>`
        <option value="${i.list_name}">${i.list_name}</option>
    `).join("");return t+o}window.addEventListener("resize",()=>{k().then(e=>{h.innerHTML="",v.innerHTML="",x(e)}).catch(e=>{console.log(e.message)})});async function L(e){try{const{data:t}=await l.get("/books/category",{params:{category:e}});return t}catch(t){console.error("Error fetching books by category:",t.message)}}function w(e){u.innerHTML="",e.map(t=>{u.insertAdjacentHTML("beforeend",O(t))})}function P(e){return e.map(t=>`
        <li class="books-item" data-id="${t._id}">
            <img src="${t.book_image}" alt="${t.title}" />
            <div class="book-card-content">
                <div class="book-card-heading">
                <h3>${t.title}</h3>
                <p>${t.author}</p>
                </div>
                <div class="book-card-price">$${parseInt(t.price,10)}</div>
            </div>
            <button class="book-learn-more" data-id="${t._id}">Learn more</button>
        </li>
    `).join("")}function O(e){return`
        <li class="books-item" data-id="${e._id}">
            <img src="${e.book_image}" alt="${e.title}" />
            <div class="book-card-content">
                <div class="book-card-heading">
                <h3>${e.title}</h3>
                <p>${e.author}</p>
                </div>
                <div class="book-card-price">$${e.price}</div>
            </div>
            <button class="book-learn-more" data-id="${e._id}">Learn more</button>
        </li>
    `}function f(){document.querySelectorAll(".books-category-item").forEach(t=>{t.addEventListener("click",async()=>{const o=t.getAttribute("data-category-name"),i=await L(o);w(i)})})}v.addEventListener("change",async e=>{const t=e.target.value,o=await L(t);w(o)});async function _(){try{const{data:e}=await l.get("/books/top-books");return console.log("data: ",e),e}catch(e){console.error("Error fetching top-books:",e.message)}}async function I(){const e=await _();u.innerHTML="",e.forEach(t=>{u.insertAdjacentHTML("beforeend",P(t.books))})}I();g.use([S,$,B]);function y(e){const t=document.querySelector(".feedbacks-button-prev"),o=document.querySelector(".feedbacks-button-next");e.isBeginning?(t.disabled=!0,t.classList.add("disabled")):(t.disabled=!1,t.classList.remove("disabled")),e.isEnd?(o.disabled=!0,o.classList.add("disabled")):(o.disabled=!1,o.classList.remove("disabled"))}new g(".feedbacks-swiper",{slidesPerView:1,slidesPerGroup:1,spaceBetween:24,loop:!1,navigation:{nextEl:".feedbacks-button-next",prevEl:".feedbacks-button-prev"},pagination:{el:".feedbacks-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}},on:{init(e){y(e)},slideChange(e){y(e)}}});const D=[{title:"Cozy Book Club — “The Midnight Library”",type:"In-store",date:"June 5, 6:30 PM",desc:"Join us for an evening of tea, thoughtful conversation, and shared reflections as we dive into Matt Haig’s bestseller.",images:{mob1x:"/img/events/mobEvent1.jpg",mob2x:"/img/events/mobEvent1@2x.jpg",tab1x:"/img/events/tabletEvent1.jpg",tab2x:"/img/events/tabletEvent1@2x.jpg",desk1x:"/img/events/event1.jpg",desk2x:"/img/events/event1@2x.jpg"}},{title:"Book Cover Design Workshop",type:"Online",date:"June 12, 7:00 PM",desc:"A hands-on session for aspiring designers and curious readers. Learn what makes a cover stand out — from concept to print.",images:{mob1x:"/img/events/mobEvent2.jpg",mob2x:"/img/events/mobEvent2@2x.jpg",tab1x:"/img/events/tabletEvent2.jpg",tab2x:"/img/events/tabletEvent2@2x.jpg",desk1x:"/img/events/event2.jpg",desk2x:"/img/events/event2@2x.jpg"}},{title:"Children’s Story Hour",type:"In-store",date:"June 18, 11:00 AM",desc:"A magical morning of stories, games, and imagination for our youngest book lovers (ages 4–8).",images:{mob1x:"/img/events/mobEvent3.jpg",mob2x:"/img/events/mobEvent3@2x.jpg",tab1x:"/img/events/tabletEvent3.jpg",tab2x:"/img/events/tabletEvent3@2x.jpg",desk1x:"/img/events/event3.jpg",desk2x:"/img/events/event3@2x.jpg"}}],H=e=>`
  <li class="swiper-slide event-card">
    <picture>
      <source srcset="${e.images.mob2x} 2x, ${e.images.mob1x} 1x" media="(max-width: 767px)">
      <source srcset="${e.images.tab2x} 2x, ${e.images.tab1x} 1x" media="(min-width: 768px) and (max-width: 1439px)">
      <img class="event-img" src="${e.images.desk1x}" srcset="${e.images.desk2x} 2x" alt="${e.title}">
    </picture>

    <div class="event-text-content">
      <h3 class="event-name font-subtitle">${e.title}</h3>
      <p class="event-meta font-p">${e.type} | ${e.date}</p>
      <p class="event-desc font-p">${e.desc}</p>
    </div>

    <button type="button" class="event-register font-p" data-title="${e.title}">
      Register
      <svg class="event-arrow " width="24" height="24">
        <use href="/img/sprite.svg#chevron-right"></use>
      </svg>
    </button>
  </li>`,N=document.querySelector(".events-swiper .swiper-wrapper");N.innerHTML=D.map(H).join("");new g(".events-swiper",{slidesPerView:1,spaceBetween:0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".events-btn-next",prevEl:".events-btn-prev"},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});const c={email:""},b="feedback-form-state",m=document.querySelector(".footer-form"),V=m.elements.email;m.addEventListener("input",e=>{e.target.name==="email"&&(c.email=e.target.value.trim()),localStorage.setItem(b,JSON.stringify(c))});document.addEventListener("DOMContentLoaded",()=>{const e=localStorage.getItem(b);if(e){const t=JSON.parse(e);c.email=t.email||"",V.value=c.email}});m.addEventListener("submit",e=>{if(e.preventDefault(),c.email===""){alert("Fill please all fields.");return}console.log(c),localStorage.removeItem(b),c.email="",m.reset()});const p=document.querySelector(".scroll-up");window.addEventListener("scroll",()=>{window.scrollY>300?p.classList.add("show"):p.classList.remove("show")});p.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
//# sourceMappingURL=index.js.map
