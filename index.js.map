{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/hero.js","../src/js/book-modal.js","../src/js/books.js","../src/js/feedbacks.js","../src/js/show-message.js","../src/js/events-modal.js","../src/js/events.js","../src/js/footer.js","../src/js/scroll-up.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n    const openBtn = document.querySelector('[data-menu-open]');\n    const closeBtn = document.querySelector('[data-menu-close]');\n    const mobileMenu = document.querySelector('[data-menu]');\n    const menuLinks = document.querySelectorAll('.mobile-menu-link');\n\n    openBtn.addEventListener('click', () => {\n        mobileMenu.classList.add('open');\n        document.body.classList.add('no-scroll');\n    });\n\n    closeBtn.addEventListener('click', () => {\n        closeMenu();\n    });\n\n    menuLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            closeMenu();\n        });\n    });\n\n    function closeMenu() {\n        mobileMenu.classList.remove('open');\n        document.body.classList.remove('no-scroll');\n    }\n\n\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function (e) {\n            e.preventDefault();\n            const target = document.querySelector(this.getAttribute('href'));\n            if (target) {\n                target.scrollIntoView({ behavior: 'smooth' });\n            }\n        });\n    });\n});\n","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const prevBtn = document.querySelector('.custom-prev');\n  const nextBtn = document.querySelector('.custom-next');\n\n  const swiper = new Swiper('.hero-swiper', {\n    loop: false,\n    speed: 600,\n    slidesPerView: 1,\n    navigation: false,\n    on: {\n      init: updateNavButtons,\n      slideChange: updateNavButtons,\n    },\n  });\n\n  // Универсальная функция для клика с авто-blur\n  function setupButtonWithAutoBlur(button, callback) {\n    if (!button) return;\n    button.addEventListener('click', (e) => {\n      callback(e);      // вызываем действие (например, slideNext)\n      button.blur();    // снимаем фокус после клика\n    });\n  }\n\n  setupButtonWithAutoBlur(prevBtn, () => swiper.slidePrev());\n  setupButtonWithAutoBlur(nextBtn, () => swiper.slideNext());\n\n  function updateNavButtons(swiperInstance) {\n    prevBtn.disabled = swiperInstance.isBeginning;\n    nextBtn.disabled = swiperInstance.isEnd;\n\n    prevBtn.classList.remove('active');\n    nextBtn.classList.remove('active');\n\n    if (swiperInstance.isBeginning) {\n      prevBtn.classList.add('active');\n    } else if (swiperInstance.isEnd) {\n      nextBtn.classList.add('active');\n    }\n  }\n});","import axios from 'axios';\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nconst modal = document.getElementById('modal');\nconst closeButton = document.querySelector('.close-button');\nconst booksList = document.querySelector('.books-list');\nconst quantityInput = modal.querySelector('#quantity');\nconst increaseButton = modal.querySelector('#increase');\nconst decreaseButton = modal.querySelector('#decrease');\nconst addToCartButton = modal.querySelector('.book-add-to-card');\nconst buyNowButton = modal.querySelector('.book-buy-now');\n\nbooksList.addEventListener('click', async event => {\n  if (event.target.classList.contains('book-learn-more')) {\n    const bookId = event.target.getAttribute('data-id');\n    const bookData = await fetchBookById(bookId);\n    if (bookData) displayBookInModal(bookData);\n  }\n});\n\ncloseButton.addEventListener('click', () => {\n  modal.style.display = 'none';\n  document.body.classList.remove('no-scroll');\n});\n\nwindow.addEventListener('click', event => {\n  if (event.target === modal) {\n    modal.style.display = 'none';\n    document.body.classList.remove('no-scroll');\n  }\n});\n\n// Обработка кнопок +/-\nincreaseButton.addEventListener('click', () => {\n  quantityInput.value = parseInt(quantityInput.value) + 1;\n});\n\ndecreaseButton.addEventListener('click', () => {\n  const current = parseInt(quantityInput.value);\n  if (current > 1) {\n    quantityInput.value = current - 1;\n  }\n});\n\naddToCartButton.addEventListener('click', () => {\n  const quantity = parseInt(quantityInput.value);\n  iziToast.info({\n    title: 'Added to cart',\n    message: `${quantity} book(s) successfully added to your cart.`,\n    position: 'topRight',\n  });\n});\n\nbuyNowButton.addEventListener('click', () => {\n  iziToast.success({\n    title: 'Thank you!',\n    message: 'Your purchase was successful.',\n    position: 'topRight',\n  });\n});\n\n// Получение данных книги\nasync function fetchBookById(id) {\n  try {\n    const response = await axios.get(`/books/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error getting a book:', error.message);\n    return null;\n  }\n}\n\n// Отображение книги в модалке\nfunction displayBookInModal(book) {\n  document.body.classList.add('no-scroll');\n  // Обновляем основные данные\n  modal.querySelector('.modal-book-image').src = book.book_image || './img/placeholder.jpg';\n  modal.querySelector('h3').innerText = book.title || 'No title';\n  modal.querySelector('.modal-author').innerText = book.author || 'Unknown author';\n  modal.querySelector('.book-card-price').innerText = book.price ? `$${book.price}` : 'N/A';\n\n  // Перерендерим аккордеон\n  renderAccordion(book);\n\n  // Сброс количества\n  quantityInput.value = 1;\n\n  // Показываем модалку\n  modal.style.display = 'flex';\n}\n\n// Рендеринг аккордеона заново\nfunction renderAccordion(book) {\n  const accordionWrapper = modal.querySelector('.accordion-list');\n  accordionWrapper.innerHTML = `\n    <div class=\"accordion-container\">\n      <div class=\"ac accordion-item\">\n        <h2 class=\"ac-header\">\n          <button type=\"button\" class=\"ac-trigger\">Details</button>\n        </h2>\n        <div class=\"ac-panel\">\n          <p class=\"ac-text book-details\">${book.description || 'No details'}</p>\n        </div>\n      </div>\n      <div class=\"ac accordion-item\">\n        <h2 class=\"ac-header\">\n          <button type=\"button\" class=\"ac-trigger\">Shipping</button>\n        </h2>\n        <div class=\"ac-panel\">\n          <p class=\"ac-text book-shipping\">${book.amazon_product_url || 'Shipping info not available'}</p>\n        </div>\n      </div>\n      <div class=\"ac accordion-item\">\n        <h2 class=\"ac-header\">\n          <button type=\"button\" class=\"ac-trigger\">Returns</button>\n        </h2>\n        <div class=\"ac-panel\">\n          <p class=\"ac-text book-returns\">${book.contributor || 'No return policy info'}</p>\n        </div>\n      </div>\n    </div>\n  `;\n\n  // Переинициализируем accordion-js\n  new Accordion('.accordion-container', {\n    duration: 400,\n    showMultiple: true,\n  });\n}\n","import \"./book-modal.js\";\nimport axios from 'axios';\n\naxios.defaults.baseURL = \"https://books-backend.p.goit.global\";\n\nconst categories = document.querySelector('.books-categories');\nconst category = document.querySelector('.books-category');\nconst booksList = document.querySelector('.books-list');\nconst loadMoreButton = document.querySelector('.books-load-more');\n// const categorySelect = document.querySelector('.books-category-select');\n// const categorySelect = document.querySelector('.books-custom-select');\nconst categorySelect = document.querySelector('.books-options-container');\nconst booksAllQuantity = document.querySelector('.books-all-quantity');\nconst booksCarrentQuantity = document.querySelector('.books-carrent-quantity');\nconst booksLoader = document.querySelector('books-loader');\n\ncategory.addEventListener('click', getName);\ncategorySelect.addEventListener('click', getName);\n\nlet booksData = [];\nlet currentPage = 1;\n\nlet currentWindows = window.innerWidth;\nlet booksInBox = 10;\nlet booksShowed = 0;\n\n\nif (currentWindows >= 1440) {\n  booksInBox = 24;\n}\n\n// Запрос на получение категорий\nasync function fetchCategories() {\n    try {\n      const { data } = await axios.get('/books/category-list');\n      // return data;\n      makeCategories(data);\n    } catch (error) {\n        console.error('Error fetching categories:', error.message);\n    }\n}\n\nfetchCategories();\n//   .then(response => {\n//     makeCategories(response);\n//   })\n//     .catch(error =>\n//         console.log(error)\n// );\n    \n// Запрос на получение топовых (всех) книг\nasync function fetchBooks() {\n    try {\n        const { data } = await axios.get('/books/top-books');\n      // return data;\n      createStartBooks(data);\n    } catch (error) {\n        console.error('Error fetching top-books:', error.message);\n    }\n}\n\n// Получение топовых книг\nfetchBooks();\n  // .then(response => {\n  //   createStartBooks(response);\n  // })\n  //   .catch(error =>\n  //       console.log(error)\n  //   );\n\n// Запрос на получение книг по категории\nasync function fetchBooksByCategory(categoryName) {\n    try {\n        const { data } = await axios.get('/books/category', {\n            params: {\n                category: categoryName\n            }\n        });\n        \n        return data; \n    } catch (error) {\n        console.error('Error fetching books by category:', error.message);\n    }\n}\n\n\nfunction getName(event) {\n  let categoryName = event.target.getAttribute('data-category-name');\n    // console.log('categoryName',categoryName);\n    if (categoryName === 'books-all-categories') {\n    fetchBooks()\n      .then(response => {\n        createStartBooks(response);\n      })\n        .catch(error =>\n            console.log(error)\n        );\n  } else {\n      fetchBooksByCategory(categoryName)\n          .then(response => {\n        setAllBooksAfterClick(response);\n      })\n          .catch(error =>\n              console.log(error)\n          );\n  }\n      selectMenuItem(categoryName);\n}\n\nfunction selectMenuItem(categoryName) {\n    const items = document.querySelectorAll('.books-category-item');\n    items.forEach(item => {\n        item.classList.remove('selected');\n    });\n    const selectedItem = document.querySelector(`.books-category-item[data-category-name=\"${categoryName}\"]`);\n\n    if (selectedItem) {\n        selectedItem.classList.add('selected');\n    }\n}\n\n// Отрисовка категорий селектом (select/option) если innerWidth < 1440,\n// в противном случае отрисовка категорий списком\n\nfunction makeCategories(response) {\n  if (window.innerWidth < 1440) {\n    const booksSelected = document.querySelector('.books-selected');\n    const booksOptionsContainer = document.querySelector('.books-options-container');\n    \n    const selCategory = response.map(category =>\n        `<div class=\"books-option\" data-category-name=\"${category.list_name}\">${category.list_name}</div>`\n    ).join('');\n    \n    booksOptionsContainer.insertAdjacentHTML('beforeend', selCategory);\n    \n    // Открытие/закрытие выпадающего меню\n    booksSelected.addEventListener('click', () => {\n        booksOptionsContainer.classList.toggle('active'); // Переключаем видимость выпадающего меню\n    });\n    \n    const booksOptionsList = document.querySelectorAll('.books-option');\n    \n    // Изменение выбранного элемента\n    booksOptionsList.forEach(option => {\n        option.addEventListener('click', () => {\n          booksSelected.innerText = option.innerText; // Изменяем текст выбранного элемента\n            booksOptionsContainer.classList.remove('active');\n        });\n    });\n\n    // Закрытие меню при клике вне его\n    document.addEventListener('click', (event) => {\n        if (!booksSelected.contains(event.target) && !booksOptionsContainer.contains(event.target)) {\n            booksOptionsContainer.classList.remove('active');\n        }\n    });\n  } else {\n    const liCategory = response.map(category =>\n            `<li class=\"books-category-item\" data-category-name=\"${category.list_name}\">${category.list_name}</li>`\n        ).join('');\n    category.insertAdjacentHTML('beforeend', liCategory);\n    }\n}\n\nfunction createStartBooks(response) {\n  booksList.innerHTML = '';\n  booksData = [];\n  for (const category of response) {\n    const books = category.books;\n    for (let i = 0; i < books.length; i += 1) {\n      booksData.push(books[i]);\n    }\n    }\n    \n  currentPage = 1;\n  booksShowed = 0;\n  createBooksInBox();\n}\n\nfunction setAllBooksAfterClick(response) {\n  booksList.innerHTML = '';\n  booksData = response;\n  currentPage = 1;\n  booksShowed = 0;\n  createBooksInBox();\n}\n\nfunction createBooksInBox() {\n  let sumAllBooks = '';\n  const sliceBooks = booksData.slice(\n    (currentPage - 1) * booksInBox,\n    (currentPage - 1) * booksInBox + booksInBox\n  );\n\n  for (const book of sliceBooks) {\n    let markupInner = createBookItem(book);\n    sumAllBooks += markupInner;\n    booksShowed++;\n  }\n  booksList.insertAdjacentHTML('beforeend', sumAllBooks);\n  if (currentPage * booksInBox < booksData.length) {\n      loadMoreButton.style.display = 'inline';\n  } else {\n      loadMoreButton.style.display = 'none';\n  }\n  booksAllQuantity.textContent = booksData.length;\n\n  booksCarrentQuantity.textContent = booksShowed;\n}\n\n// Отрисовка книги\nfunction createBookItem(book) {\n    return ` \n        <li class=\"books-item\" data-id=\"${book._id}\">\n            <img src=\"${book.book_image}\" alt=\"${book.title}\" />\n            <div class=\"book-card-content\">\n                <div class=\"book-card-heading\">\n                <h3>${book.title}</h3>\n                <p>${book.author}</p>\n                </div>\n                <div class=\"book-card-price\">$${parseInt(book.price, 10)}</div>\n            </div>\n            <button class=\"book-learn-more\" data-id=\"${book._id}\">Learn more</button>\n        </li>\n    `;\n}\n\nloadMoreButton.addEventListener('click', event => {\n  currentPage += 1;\n  booksInBox = 4;\n  createBooksInBox();\n});\n","import Swiper from 'swiper';\nimport 'swiper/css/bundle';\n\nimport {\n    Navigation,\n    Keyboard,\n    Pagination, \n} from 'swiper/modules';\n\nSwiper.use([Navigation, Keyboard, Pagination]);\n\n\nfunction updateButtonsState(swiperInstance) {\n    const prevBtn = document.querySelector('.feedbacks-button-prev');\n    const nextBtn = document.querySelector('.feedbacks-button-next');\n\n    prevBtn.blur();\n    nextBtn.blur();\n\n    if (swiperInstance.isBeginning) {\n        prevBtn.disabled = true;\n        prevBtn.classList.add('disabled');\n    } else {\n        prevBtn.disabled = false;\n        prevBtn.classList.remove('disabled');\n    }\n\n    if (swiperInstance.isEnd) {\n        nextBtn.disabled = true;\n        nextBtn.classList.add('disabled');\n    } else {\n        nextBtn.disabled = false;\n        nextBtn.classList.remove('disabled');\n    }\n}\n\nconst feedbacksSwiper = new Swiper('.feedbacks-swiper', {\n    slidesPerView: 1,\n    slidesPerGroup: 1,\n    spaceBetween: 24,\n    loop: false,\n\n    navigation: {\n        nextEl: '.feedbacks-button-next',\n        prevEl: '.feedbacks-button-prev',\n    },\n\n    pagination: {\n        el: '.feedbacks-pagination',\n        clickable: false,\n    },\n\n    keyboard: {\n        enabled: true,\n        onlyInViewport: true,\n    },\n\n    breakpoints: {\n        768: {\n            slidesPerView: 2,\n        },\n        1440: {\n            slidesPerView: 3,\n        },\n    },\n\n    on: {\n        init(swiper) {\n            updateButtonsState(swiper);\n        },\n        slideChange(swiper) {\n            updateButtonsState(swiper);\n        },\n    },\n});\n\ndocument.querySelectorAll('.feedbacks-pagination .swiper-pagination-bullet').forEach(el => {\n    el.removeAttribute('role');\n    el.removeAttribute('tabindex');\n    el.removeAttribute('aria-label');\n});","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function showMessage(color, message) {\n  const messageData = {\n    title: message,\n    titleColor: color,\n    position: 'bottomRight',\n  };\n  return iziToast.show(messageData);\n}\n// імпортуємо: import { showMessage } from './show-message';\n// використовуємо: showMessage('колір повідомлення(red або green)', 'Повідомлення')\n","import { showMessage } from './show-message.js';\n\nlet backdrop, closeBtn, form, titleEl, fields;\nlet ready = false;\n\nexport function openEventModal(title) {\n  if (!ready) {\n    if (!initModal()) {\n      setTimeout(() => openEventModal(title), 30);\n      return;\n    }\n  }\n  titleEl.textContent = title;\n  backdrop.classList.remove('visually-hidden');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction close() {\n  backdrop.classList.add('visually-hidden');\n  document.body.style.overflow = '';\n}\n\nfunction initModal() {\n  backdrop = document.getElementById('events-modal-backdrop');\n  if (!backdrop) return false;\n\n  closeBtn = document.getElementById('events-modal-close');\n  form     = document.getElementById('events-modal-form');\n  titleEl  = document.getElementById('events-modal-event-name');\n\n  closeBtn.addEventListener('click', close);\n  backdrop.addEventListener('click', e => e.target === backdrop && close());\n  document.addEventListener('keydown', e => e.key === 'Escape' && close());\n\n  fields = form.querySelectorAll('input[name], textarea[name]');\n  fields.forEach(field => {\n    field.addEventListener('input', () => {\n      if (field.validity.valid) {\n        field.classList.remove('invalid');\n      } else {\n        field.classList.add('invalid');\n      }\n    });\n  });\n\n  form.addEventListener('submit', e => {\n    e.preventDefault();\n\n    const bad = Array.from(fields).find(f => !f.validity.valid);\n    if (bad) {\n      bad.classList.add('invalid');\n    //  const container = bad.closest('.events-modal-field') || document.body;\n      //  showMessage2('red', bad.validationMessage, container);\n      showMessage('red', bad.validationMessage)\n      bad.focus();\n      return;\n    }\n\n    showMessage('green', 'Thank you for registering!');\n    form.reset();\n    fields.forEach(f => f.classList.remove('invalid'));\n    close();\n  });\n\n  ready = true;\n  return true;\n}\n","\nimport Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\nimport { openEventModal } from './events-modal.js';\n\nconst eventWrapper = document.querySelector('.events-swiper .swiper-wrapper');\nconst prevBtn      = document.querySelector('.events-btn-prev');\nconst nextBtn      = document.querySelector('.events-btn-next');\n\n/* -------- Swiper -------- */\nconst eventsSwiper = new Swiper('.events-swiper', {\n  slidesPerView: 1,\n  spaceBetween: 5,\n  pagination : { el: '.event-swiper-pagination', clickable: true },\n  navigation : { nextEl: nextBtn, prevEl: prevBtn },\n  breakpoints: {\n    768 : { slidesPerView: 2, spaceBetween: 24 },\n    1440: { slidesPerView: 3, spaceBetween: 24 },\n  },\n});\n\nfunction updateNav(sw) {\n  prevBtn.disabled = sw.isBeginning;\n  nextBtn.disabled = sw.isEnd;\n}\n\nupdateNav(eventsSwiper);                   \neventsSwiper.on('slideChange', () => updateNav(eventsSwiper));\n\n/* -------- modal click -------- */\neventWrapper.addEventListener('click', (evt) => {\n  const btn = evt.target.closest('.event-register');\n  if (!btn) return;    \n  openEventModal(btn.dataset.title);\n});\n","import {showMessage} from './show-message';\n\nconst formData = {\n    email: \"\"};\n\nconst form = document.querySelector('.footer-form');\n\nconst emailInput = form.elements.email; \n\nform.addEventListener('input', (event) => {\n    if (event.target.name === 'email') {\n        formData.email = event.target.value.trim();\n      emailInput.style.borderColor ='rgba(11, 5, 0, 0.60)';\n  emailInput.style.color = '#0B0500';\n    }\n});\n\nform.addEventListener('submit', (event) => {\n  const errorBorderColor = '#AD0000';\n  const errorColor= '#AD0000';\n  \n  emailInput.style.borderColor ='rgba(11, 5, 0, 0.60)';\n  emailInput.style.color = '#0B0500';\n  \n    event.preventDefault();\n    if (formData.email === \"\") {\n      showMessage('red', 'Fill please all fields.');\n      emailInput.style.borderColor = errorBorderColor;\n      emailInput.style.color = errorColor;\n        return;\n    }\n    if (!emailInput.checkValidity()){\n      showMessage('red', 'Please enter a valid email address.');\n      emailInput.style.borderColor = errorBorderColor;\n      emailInput.style.color = errorColor;\n      return;\n    }\n    console.log(formData);\n    showMessage('green', 'Message sent successfully!');\n    \n\n    formData.email = \"\";\n    form.reset();\n});\n","const scrollBtn = document.querySelector('.scroll-up');\n\nwindow.addEventListener('scroll', () => {\n  if (window.scrollY > 300) {\n    scrollBtn.classList.add('show');\n  } else {\n    scrollBtn.classList.remove('show');\n  }\n});\n\nscrollBtn.addEventListener('click', () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n"],"names":["openBtn","closeBtn","mobileMenu","menuLinks","closeMenu","link","anchor","e","target","prevBtn","nextBtn","swiper","Swiper","updateNavButtons","setupButtonWithAutoBlur","button","callback","swiperInstance","modal","closeButton","booksList","quantityInput","increaseButton","decreaseButton","addToCartButton","buyNowButton","event","bookId","bookData","fetchBookById","displayBookInModal","current","quantity","iziToast","id","axios","error","book","renderAccordion","accordionWrapper","Accordion","category","loadMoreButton","categorySelect","booksAllQuantity","booksCarrentQuantity","getName","booksData","currentPage","currentWindows","booksInBox","booksShowed","fetchCategories","data","makeCategories","fetchBooks","createStartBooks","fetchBooksByCategory","categoryName","response","setAllBooksAfterClick","selectMenuItem","item","selectedItem","booksSelected","booksOptionsContainer","selCategory","option","liCategory","books","i","createBooksInBox","sumAllBooks","sliceBooks","markupInner","createBookItem","Navigation","Keyboard","Pagination","updateButtonsState","el","showMessage","color","message","messageData","backdrop","form","titleEl","fields","ready","openEventModal","title","initModal","close","field","bad","f","eventWrapper","eventsSwiper","updateNav","sw","evt","btn","formData","emailInput","errorBorderColor","errorColor","scrollBtn"],"mappings":"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"}