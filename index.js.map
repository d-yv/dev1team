{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/books.js","../src/js/feedbacks.js","../src/js/footer.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n    const openBtn = document.querySelector('[data-menu-open]');\n    const closeBtn = document.querySelector('[data-menu-close]');\n    const mobileMenu = document.querySelector('[data-menu]');\n    const menuLinks = document.querySelectorAll('.mobile-menu-link');\n\n    openBtn.addEventListener('click', () => {\n        mobileMenu.classList.add('open');\n        document.body.classList.add('no-scroll');\n    });\n\n    closeBtn.addEventListener('click', () => {\n        closeMenu();\n    });\n\n    menuLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            closeMenu();\n        });\n    });\n\n    function closeMenu() {\n        mobileMenu.classList.remove('open');\n        document.body.classList.remove('no-scroll');\n    }\n\n\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function (e) {\n            e.preventDefault();\n            const target = document.querySelector(this.getAttribute('href'));\n            if (target) {\n                target.scrollIntoView({ behavior: 'smooth' });\n            }\n        });\n    });\n});\n","import axios from 'axios';\n\naxios.defaults.baseURL = \"https://books-backend.p.goit.global\";\n\nconst categories = document.querySelector('.books-categories');\nconst category = document.querySelector('.books-category');\nconst booksList = document.querySelector('.books-list');\nconst loadMoreButton = document.querySelector('.books-load-more');\nconst categorySelect = document.querySelector('.books-category-select');\n\n// Получение категорий\nasync function fetchCategories() {\n    try {\n        const { data } = await axios.get('/books/category-list');\n        return data;\n    } catch (error) {\n        console.error('Error fetching categories:', error.message);\n    }\n}\n\n// Функция для отображения категорий\nfunction displayCategories(data) {\n    if (window.innerWidth >= 1440) {\n        category.insertAdjacentHTML('beforeend', createCategories(data));\n        addCategoryClickListeners(); // Добавляем обработчики кликов\n    } else {\n        categorySelect.insertAdjacentHTML('beforeend', createSelectCategories(data));\n        addCategoryClickListeners(); // Добавляем обработчики кликов\n    }\n}\n\n// Получаем и выводим категории\nfetchCategories()\n    .then(data => {\n        displayCategories(data);\n    })\n    .catch(error => {\n        console.log(error.message);\n    });\n\n// Отрисовка категорий списком (ul/li)\nfunction createCategories(arr) {\n    const startCategory = '<li class=\"books-category-item\" data-category-name=\"All categories\">All categories</li>';\n    const allCategories = arr.map((category) => `\n        <li class=\"books-category-item\" data-category-name=\"${category.list_name}\">${category.list_name}</li>\n    `).join('');\n\n    //console.log('li: ',startCategory + allCategories);\n    return startCategory + allCategories;\n}\n\n// Отрисовка категорий селектом (select/option)\nfunction createSelectCategories(arr) {\n    const startCategory = '<option selected>All categories</option>';\n    const allCategories =  arr.map((category) => `\n        <option value=\"${category.list_name}\">${category.list_name}</option>\n    `).join('');\n    //console.log('option: ',startCategory + allCategories);\n    return startCategory + allCategories;\n}\n\n// Обработчик события изменения размера окна\nwindow.addEventListener('resize', () => {\n    fetchCategories()\n        .then(data => {\n            category.innerHTML = '';\n            categorySelect.innerHTML = '';\n            displayCategories(data);\n        })\n        .catch(error => {\n            console.log(error.message);\n        });\n});\n\n\n\n\n// Получение книг по категории\nasync function fetchBooksByCategory(categoryName) {\n    try {\n        // if (categoryName === 'All categories') {\n        //     const { data } = await axios.get('/books/top-books');\n        // }\n        // else {\n            const { data } = await axios.get('/books/category', {\n                params: {\n                    category: categoryName\n                }\n            });\n        // }\n        console.log('dataCateg: ', data);\n        return data; \n    } catch (error) {\n        console.log(categoryName);\n        console.error('Error fetching books by category:', error.message);\n    }\n}\n\n// Выводим ВСЕ книги\nfunction displayBooks(books) {\n    console.log('books:', books);\n    booksList.innerHTML = ''; // Очищаем предыдущие книги\n    if (books && Array.isArray(data)) {\n        books.forEach(book => {\n            console.log('book', book);\n            booksList.insertAdjacentHTML('beforeend', createBookItem(book.books));\n        });\n    }\n};\n\n// Выводим книги КАТЕГОРИИ\nfunction displayBooksCategory(books) {\n    console.log('booksCategExport:', books);\n    booksList.innerHTML = ''; // Очищаем предыдущие книги\n    // if (books && Array.isArray(data)) {\n        books.map(book => {\n            console.log('book', book);\n            booksList.insertAdjacentHTML('beforeend', createBookItemCategory(book));\n        });\n    // }\n};\n\n// Отрисовка ВСЕХ книг\nfunction createBookItem(arr) {\n    console.log('arrAll: ', arr);\n    return arr.map(book => `\n        <li class=\"books-item\">\n            <img src=\"${book.book_image}\" alt=\"${book.title}\" />\n            <div class=\"book-card-content\">\n                <div class=\"book-card-heading\">\n                <h3>${book.title}</h3>\n                <p>${book.author}</p>\n                </div>\n                <div class=\"book-card-price\">$${book.price}</div>\n            </div>\n            <button class=\"book-learn-more\">Learn more</button>\n        </li>\n    `).join('');\n}\n\n// Отрисовка книг КАТЕГОРИИ\nfunction createBookItemCategory(book) {\n    console.log('arrCateg: ', book);\n    return `\n        <li class=\"books-item\">\n            <img src=\"${book.book_image}\" alt=\"${book.title}\" />\n            <div class=\"book-card-content\">\n                <div class=\"book-card-heading\">\n                <h3>${book.title}</h3>\n                <p>${book.author}</p>\n                </div>\n                <div class=\"book-card-price\">$${book.price}</div>\n            </div>\n            <button class=\"book-learn-more\">Learn more</button>\n        </li>\n    `\n}\n\n// Обработчик клика по категориям в ul/li\nfunction addCategoryClickListeners() {\n    const categoryItems = document.querySelectorAll('.books-category-item');\n    categoryItems.forEach(item => {\n        item.addEventListener('click', async () => {\n            const categoryName = item.getAttribute('data-category-name');\n            const books = await fetchBooksByCategory(categoryName);\n            console.log('booksCateg',books);\n            displayBooksCategory(books);\n        });\n    });\n}\n\n// Обработчик клика по категориям в select/option\ncategorySelect.addEventListener('change', async () => {\n    const selectedCategoryName = categorySelect.options[categorySelect.selectedIndex].text; // Получаем имя выбранной категории\n    const books = await fetchBooksByCategory(selectedCategoryName);\n    displayBooksCategory(books);\n});\n\n// Получение топовых книг\nasync function fetchBooks() {\n    try {\n        const { data } = await axios.get('/books/top-books');\n        console.log('data: ', data);\n        return data;\n    } catch (error) {\n        console.error('Error fetching top-books:', error.message);\n    }\n}\n\n// Получение топовых книг\n/*async function fetchBooks() {\n    try {\n        const { data } = await axios.get('/books/top-books');\n        // const dataBooks = await axios.get('/books/top-books');\n        // console.log('data: '.dataBooks);\n        console.log('data: '.data);\n        return data.books;\n    } catch (error) {\n        console.error('Error fetching top books:', error.message);\n    }\n}*/\n\n// fetchBooks();\n\n\n// Инициализация - получение книг\nasync function initializeBooks() {\n    //const books = await fetchBooksByCategory('All categories');\n    const data = await fetchBooks();\n    // console.log('books', books);\n    booksList.innerHTML = ''; // Очищаем предыдущие книги\n    // if (data && Array.isArray(data)) {\n        data.forEach(book => {\n            booksList.insertAdjacentHTML('beforeend', createBookItem(book.books));\n        });\n    // }\n}\n\n// Вызов функции инициализации для загрузки книг\ninitializeBooks();","import Swiper from 'swiper';\n\nimport {\n    Navigation,\n    Keyboard\n}\n\nfrom 'swiper/modules';\n\n\nSwiper.use([Navigation, Keyboard]);\n\n\nfunction updateButtonsState(swiperInstance) {\n    const prevBtn=document.querySelector('.swiper-button-prev');\n    const nextBtn=document.querySelector('.swiper-button-next');\n\n    if (swiperInstance.isBeginning) {\n        prevBtn.disabled=true;\n        prevBtn.classList.add('disabled');\n    }\n\n    else {\n        prevBtn.disabled=false;\n        prevBtn.classList.remove('disabled');\n    }\n\n    if (swiperInstance.isEnd) {\n        nextBtn.disabled=true;\n        nextBtn.classList.add('disabled');\n    }\n\n    else {\n        nextBtn.disabled=false;\n        nextBtn.classList.remove('disabled');\n    }\n}\n\nconst swiper=new Swiper('.swiper', {\n        slidesPerView: 1,\n        spaceBetween: 24,\n        loop: false,\n\n        navigation: {\n            nextEl: '.swiper-button-next',\n            prevEl: '.swiper-button-prev',\n        }\n\n        ,\n\n        keyboard: {\n            enabled: true,\n            onlyInViewport: true,\n        }\n\n        ,\n\n        breakpoints: {\n            768: {\n                slidesPerView: 2,\n            }\n\n            ,\n            1440: {\n                slidesPerView: 3,\n            }\n\n            ,\n        }\n\n        ,\n\n        on: {\n            init(swiper) {\n                updateButtonsState(swiper);\n            }\n\n            ,\n            slideChange(swiper) {\n                updateButtonsState(swiper);\n            }\n\n            ,\n        }\n\n        ,\n    }\n\n);","const formData = {\n    email: \"\"};\n\nconst STORAGE_KEY = \"feedback-form-state\";\n\nconst form = document.querySelector('.footer-form');\nconst emailInput = form.elements.email; \n\nform.addEventListener('input', (event) => {\n    if (event.target.name === 'email') {\n        formData.email = event.target.value.trim();}\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));});\n    \ndocument.addEventListener('DOMContentLoaded', () => {\n    const savedData = localStorage.getItem(STORAGE_KEY);\n    if (savedData) {\n        const parsedData = JSON.parse(savedData);\n        formData.email = parsedData.email || \"\";\n        emailInput.value = formData.email;\n    }\n});\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n    if (formData.email === \"\") {\n        alert(\"Fill please all fields.\");\n        return;\n    }\n    console.log(formData);\n    \n    localStorage.removeItem(STORAGE_KEY);\n\n    formData.email = \"\";\n    form.reset();\n});\n"],"names":["openBtn","closeBtn","mobileMenu","menuLinks","closeMenu","link","anchor","e","target","axios","category","booksList","categorySelect","fetchCategories","data","error","displayCategories","createCategories","addCategoryClickListeners","createSelectCategories","arr","startCategory","allCategories","fetchBooksByCategory","categoryName","displayBooksCategory","books","book","createBookItemCategory","createBookItem","item","selectedCategoryName","fetchBooks","initializeBooks","Swiper","Navigation","Keyboard","updateButtonsState","swiperInstance","prevBtn","nextBtn","swiper","formData","STORAGE_KEY","form","emailInput","event","savedData","parsedData"],"mappings":"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"}