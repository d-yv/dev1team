{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/hero.js","../src/js/show-message.js","../src/js/book-modal.js","../src/js/loader.js","../src/js/books.js","../src/js/feedbacks.js","../src/js/events-modal.js","../src/js/events.js","../src/js/footer.js","../src/js/scroll-up.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n    const openBtn = document.querySelector('[data-menu-open]');\n    const closeBtn = document.querySelector('[data-menu-close]');\n    const mobileMenu = document.querySelector('[data-menu]');\n    const menuLinks = document.querySelectorAll('.mobile-menu-link');\n\n    openBtn.addEventListener('click', () => {\n        mobileMenu.classList.add('open');\n        document.body.classList.add('no-scroll');\n    });\n\n    closeBtn.addEventListener('click', () => {\n        closeMenu();\n    });\n\n    menuLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            closeMenu();\n        });\n    });\n\n    function closeMenu() {\n        mobileMenu.classList.remove('open');\n        document.body.classList.remove('no-scroll');\n    }\n\n\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function (e) {\n            e.preventDefault();\n            const target = document.querySelector(this.getAttribute('href'));\n            if (target) {\n                target.scrollIntoView({ behavior: 'smooth' });\n            }\n        });\n    });\n});\n","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const prevBtn = document.querySelector('.custom-prev');\n  const nextBtn = document.querySelector('.custom-next');\n\n  const swiper = new Swiper('.hero-swiper', {\n    loop: false,\n    speed: 600,\n    slidesPerView: 1,\n    navigation: false,\n    on: {\n      init: updateNavButtons,\n      slideChange: updateNavButtons,\n    },\n  });\n\n  // Универсальная функция для клика с авто-blur\n  function setupButtonWithAutoBlur(button, callback) {\n    if (!button) return;\n    button.addEventListener('click', (e) => {\n      callback(e);      // вызываем действие (например, slideNext)\n      button.blur();    // снимаем фокус после клика\n    });\n  }\n\n  setupButtonWithAutoBlur(prevBtn, () => swiper.slidePrev());\n  setupButtonWithAutoBlur(nextBtn, () => swiper.slideNext());\n\n  function updateNavButtons(swiperInstance) {\n    prevBtn.disabled = swiperInstance.isBeginning;\n    nextBtn.disabled = swiperInstance.isEnd;\n\n    prevBtn.classList.remove('active');\n    nextBtn.classList.remove('active');\n\n    if (swiperInstance.isBeginning) {\n      prevBtn.classList.add('active');\n    } else if (swiperInstance.isEnd) {\n      nextBtn.classList.add('active');\n    }\n  }\n});","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function showMessage(color, message) {\n  const messageData = {\n    title: message,\n    titleColor: color,\n    position: 'bottomRight',\n    zindex: 9999,\n  };\n  return iziToast.show(messageData);\n}\n// імпортуємо: import { showMessage } from './show-message';\n// використовуємо: showMessage('колір повідомлення(red або green)', 'Повідомлення')\n","import axios from 'axios';\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport { showMessage } from './show-message';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst modal = document.getElementById('modal');\nconst closeButton = document.querySelector('.close-button');\nconst booksList = document.querySelector('.books-list');\nconst quantityInput = modal.querySelector('#quantity');\nconst increaseButton = modal.querySelector('#increase');\nconst decreaseButton = modal.querySelector('#decrease');\nconst addToCartButton = modal.querySelector('.book-add-to-card');\nconst buyNowButton = modal.querySelector('.book-buy-now');\n\nbooksList.addEventListener('click', async event => {\n  if (event.target.classList.contains('book-learn-more')) {\n    const bookId = event.target.getAttribute('data-id');\n    const bookData = await fetchBookById(bookId);\n    if (bookData) displayBookInModal(bookData);\n  }\n});\n\ncloseButton.addEventListener('click', () => {\n  modal.style.display = 'none';\n  document.body.classList.remove('no-scroll');\n});\n\nwindow.addEventListener('click', event => {\n  if (event.target === modal) {\n    modal.style.display = 'none';\n    document.body.classList.remove('no-scroll');\n  }\n});\n\n// Обработка кнопок +/-\nincreaseButton.addEventListener('click', () => {\n  quantityInput.value = parseInt(quantityInput.value) + 1;\n});\n\ndecreaseButton.addEventListener('click', () => {\n  const current = parseInt(quantityInput.value);\n  if (current > 1) {\n    quantityInput.value = current - 1;\n  }\n});\n\naddToCartButton.addEventListener('click', () => {\n  const quantity = parseInt(quantityInput.value);\n  showMessage('green', `${quantity} book(s) successfully added to your cart.`);\n});\n\nbuyNowButton.addEventListener('click', () => {\n  showMessage('green', 'Thank you!, Your purchase was successful.');\n});\n\n// Получение данных книги\nasync function fetchBookById(id) {\n  try {\n    const response = await axios.get(`/books/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error getting a book:', error.message);\n    return null;\n  }\n}\n\n// Отображение книги в модалке\nfunction displayBookInModal(book) {\n  document.body.classList.add('no-scroll');\n  // Обновляем основные данные\n  modal.querySelector('.modal-book-image').src =\n    book.book_image || './img/placeholder.jpg';\n  modal.querySelector('h3').innerText = book.title || 'No title';\n  modal.querySelector('.modal-author').innerText =\n    book.author || 'Unknown author';\n  modal.querySelector('.book-card-price').innerText = book.price\n    ? `$${book.price}`\n    : 'N/A';\n\n  renderAccordion(book);\n\n  quantityInput.value = 1;\n\n  modal.style.display = 'flex';\n}\n\nfunction renderAccordion(book) {\n  const accordionWrapper = modal.querySelector('.accordion-list');\n  accordionWrapper.innerHTML = `\n    <div class=\"accordion-container\">\n      <div class=\"ac accordion-item\">\n        <h2 class=\"ac-header\">\n          <button type=\"button\" class=\"ac-trigger\">Details</button>\n        </h2>\n        <div class=\"ac-panel\">\n          <p class=\"ac-text book-details\">${\n            book.description || 'No details'\n          }</p>\n        </div>\n      </div>\n      <div class=\"ac accordion-item\">\n        <h2 class=\"ac-header\">\n          <button type=\"button\" class=\"ac-trigger\">Shipping</button>\n        </h2>\n        <div class=\"ac-panel\">\n          <p class=\"ac-text book-shipping\">${\n            book.amazon_product_url || 'Shipping info not available'\n          }</p>\n        </div>\n      </div>\n      <div class=\"ac accordion-item\">\n        <h2 class=\"ac-header\">\n          <button type=\"button\" class=\"ac-trigger\">Returns</button>\n        </h2>\n        <div class=\"ac-panel\">\n          <p class=\"ac-text book-returns\">${\n            book.contributor || 'No return policy info'\n          }</p>\n        </div>\n      </div>\n    </div>\n  `;\n\n  new Accordion('.accordion-container', {\n    duration: 400,\n    showMultiple: true,\n  });\n}\n","const loader = document.querySelector('.loader');\nexport function showLoader() {\n  loader.style.display = 'block';\n}\n\nexport function hideLoader() {\n  loader.style.display = 'none';\n}\n\n//імпортуємо функкції в свій js-файл (import {showLoader, hideLoader} from './loader';),\n// додааємо <span class=\"loader\"></span> в свій html-файл, туди, де лоадер повинен бути.\n// Показати: showLoader();\n// Сховати: hideLoader();\n","import './book-modal.js';\nimport axios from 'axios';\nimport { showLoader, hideLoader } from './loader';\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global';\n\nconst category = document.querySelector('.books-category');\nconst categorySelect = document.querySelector('.books-options-container');\nconst booksList = document.querySelector('.books-list');\nconst loadMoreButton = document.querySelector('.books-show-more');\nconst booksAllQuantity = document.querySelector('.books-all-quantity');\nconst booksCarrentQuantity = document.querySelector('.books-carrent-quantity');\n\ncategory.addEventListener('click', getName);\ncategorySelect.addEventListener('click', getName);\n\nlet booksData = [];\nlet currentPage = 1;\nlet booksShowed = 0;\nlet booksInBox = window.innerWidth >= 1440 ? 24 : 10;\n\nlet resizeTimeout;\nwindow.addEventListener('resize', () => {\n  clearTimeout(resizeTimeout);\n  resizeTimeout = setTimeout(() => {\n    category.innerHTML = '';\n    categorySelect.innerHTML = '';\n    fetchCategories();\n  }, 300);\n});\n\nfetchCategories();\nfetchBooks(createStartBooks);\n\n// Получение категорий\nasync function fetchCategories() {\n  try {\n    showLoader();\n    const { data } = await axios.get('/books/category-list');\n    makeCategories(data);\n  } catch (error) {\n    console.error('Error fetching categories:', error.message);\n  } finally {\n    hideLoader();\n  }\n}\n\n// Получение всех топ-книг\nasync function fetchBooks(callback) {\n  try {\n    showLoader();\n    const { data } = await axios.get('/books/top-books');\n    callback(data);\n  } catch (error) {\n    console.error('Error fetching top-books:', error.message);\n  } finally {\n    hideLoader();\n  }\n}\n\n// Получение книг по категории\nasync function fetchBooksByCategory(categoryName) {\n  try {\n    showLoader();\n    const { data } = await axios.get('/books/category', {\n      params: { category: categoryName },\n    });\n    setAllBooksAfterClick(data);\n  } catch (error) {\n    console.error('Error fetching category books:', error.message);\n  } finally {\n    hideLoader();\n  }\n}\n\n// Обработка клика по категории\nfunction getName(event) {\n  const categoryName = event.target.getAttribute('data-category-name');\n  if (!categoryName) return;\n\n  if (categoryName === 'books-all-categories') {\n    fetchBooks(createStartBooks);\n  } else {\n    fetchBooksByCategory(categoryName);\n  }\n  selectMenuItem(categoryName);\n}\n\n// Выделение выбранной категории\nfunction selectMenuItem(categoryName) {\n  document\n    .querySelectorAll('.books-category-item')\n    .forEach(item => item.classList.remove('selected'));\n  const selected = document.querySelector(\n    `.books-category-item[data-category-name=\"${categoryName}\"]`\n  );\n  if (selected) selected.classList.add('selected');\n}\n\n// Рендер категорий\nfunction makeCategories(data) {\n  const all = { list_name: 'books-all-categories', label: 'All categories' };\n  const fullList = [all, ...data];\n  category.innerHTML = '';\n  categorySelect.innerHTML = '';\n\n  const booksSelected = document.querySelector('.books-selected');\n  if (booksSelected) booksSelected.innerText = all.label;\n  categorySelect.classList.remove('active');\n\n  if (window.innerWidth < 1440) {\n    const markup = fullList\n      .map(\n        c => `<div class=\"books-option\" data-category-name=\"${c.list_name}\">\n          ${c.label || c.list_name}\n        </div>`\n      )\n      .join('');\n    categorySelect.insertAdjacentHTML('beforeend', markup);\n\n    document.querySelectorAll('.books-option').forEach(option => {\n      option.addEventListener('click', () => {\n        if (booksSelected) booksSelected.innerText = option.innerText;\n        categorySelect.classList.remove('active');\n        getName({ target: option });\n      });\n    });\n\n    if (booksSelected) {\n      booksSelected.onclick = () => {\n        categorySelect.classList.toggle('active');\n      };\n    }\n\n    document.addEventListener('click', e => {\n      if (\n        !categorySelect.contains(e.target) &&\n        !booksSelected.contains(e.target)\n      ) {\n        categorySelect.classList.remove('active');\n      }\n    });\n  } else {\n    const listMarkup = fullList\n      .map(\n        c => `<li class=\"books-category-item${\n          c.list_name === 'books-all-categories' ? ' selected' : ''\n        }\" data-category-name=\"${c.list_name}\">\n        ${c.label || c.list_name}\n      </li>`\n      )\n      .join('');\n    category.insertAdjacentHTML('beforeend', listMarkup);\n  }\n}\n\n// Обработка топовых книг\nfunction createStartBooks(response) {\n  booksList.innerHTML = '';\n  booksData = response.flatMap(c => c.books);\n  currentPage = 1;\n  booksShowed = 0;\n  createBooksInBox();\n}\n\n// Обработка книг по категории\nfunction setAllBooksAfterClick(response) {\n  booksList.innerHTML = '';\n  booksData = response;\n  currentPage = 1;\n  booksShowed = 0;\n  createBooksInBox();\n}\n\n// Рендер книг порционно\nfunction createBooksInBox() {\n  const slice = booksData.slice(\n    (currentPage - 1) * booksInBox,\n    currentPage * booksInBox\n  );\n\n  const markup = slice.map(createBookItem).join('');\n  booksList.insertAdjacentHTML('beforeend', markup);\n  booksShowed += slice.length;\n\n  booksAllQuantity.textContent = booksData.length;\n  booksCarrentQuantity.textContent = booksShowed;\n\n  loadMoreButton.style.display =\n    booksShowed < booksData.length ? 'inline' : 'none';\n}\n\n// Разметка одной книги\nfunction createBookItem(book) {\n  return `\n    <li class=\"books-item\" data-id=\"${book._id}\">\n      <img src=\"${book.book_image}\" alt=\"${book.title}\" fetchpriority=\"high\" />\n      <div class=\"book-card-content\">\n        <div class=\"book-card-heading\">\n          <h3>${book.title}</h3>\n          <p>${book.author}</p>\n        </div>\n        <div class=\"book-card-price\">$${parseInt(book.price, 10)}</div>\n      </div>\n      <button class=\"book-learn-more\" data-id=\"${book._id}\">Learn more</button>\n    </li>\n  `;\n}\n\n// Кнопка Load More\nloadMoreButton.addEventListener('click', () => {\n  currentPage++;\n  booksInBox = 4;\n  createBooksInBox();\n});\n","import Swiper from 'swiper';\nimport 'swiper/css/bundle';\n\nimport {\n    Navigation,\n    Keyboard,\n    Pagination, \n} from 'swiper/modules';\n\nSwiper.use([Navigation, Keyboard, Pagination]);\n\n\nfunction updateButtonsState(swiperInstance) {\n    const prevBtn = document.querySelector('.feedbacks-button-prev');\n    const nextBtn = document.querySelector('.feedbacks-button-next');\n\n    prevBtn.blur();\n    nextBtn.blur();\n\n    if (swiperInstance.isBeginning) {\n        prevBtn.disabled = true;\n        prevBtn.classList.add('disabled');\n    } else {\n        prevBtn.disabled = false;\n        prevBtn.classList.remove('disabled');\n    }\n\n    if (swiperInstance.isEnd) {\n        nextBtn.disabled = true;\n        nextBtn.classList.add('disabled');\n    } else {\n        nextBtn.disabled = false;\n        nextBtn.classList.remove('disabled');\n    }\n}\n\nconst feedbacksSwiper = new Swiper('.feedbacks-swiper', {\n    slidesPerView: 1,\n    slidesPerGroup: 1,\n    spaceBetween: 24,\n    loop: false,\n\n    navigation: {\n        nextEl: '.feedbacks-button-next',\n        prevEl: '.feedbacks-button-prev',\n    },\n\n    pagination: {\n        el: '.feedbacks-pagination',\n        clickable: false,\n    },\n\n    keyboard: {\n        enabled: true,\n        onlyInViewport: true,\n    },\n\n    breakpoints: {\n        768: {\n            slidesPerView: 2,\n        },\n        1440: {\n            slidesPerView: 3,\n        },\n    },\n\n    on: {\n        init(swiper) {\n            updateButtonsState(swiper);\n        },\n        slideChange(swiper) {\n            updateButtonsState(swiper);\n        },\n    },\n});\n\ndocument.querySelectorAll('.feedbacks-pagination .swiper-pagination-bullet').forEach(el => {\n    el.removeAttribute('role');\n    el.removeAttribute('tabindex');\n    el.removeAttribute('aria-label');\n});","import { showMessage } from './show-message.js';\n\nlet backdrop, closeBtn, form, titleEl, fields;\nlet ready = false;\n\nexport function openEventModal(title) {\n  if (!ready) {\n    if (!initModal()) {\n      setTimeout(() => openEventModal(title), 30);\n      return;\n    }\n  }\n  titleEl.textContent = title;\n  backdrop.classList.remove('visually-hidden');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction close() {\n  backdrop.classList.add('visually-hidden');\n  document.body.style.overflow = '';\n}\n\nfunction initModal() {\n  backdrop = document.getElementById('events-modal-backdrop');\n  if (!backdrop) return false;\n\n  closeBtn = document.getElementById('events-modal-close');\n  form     = document.getElementById('events-modal-form');\n  titleEl  = document.getElementById('events-modal-event-name');\n\n  closeBtn.addEventListener('click', close);\n  backdrop.addEventListener('click', e => e.target === backdrop && close());\n  document.addEventListener('keydown', e => e.key === 'Escape' && close());\n\n  fields = form.querySelectorAll('input[name], textarea[name]');\n  fields.forEach(field => {\n    field.addEventListener('input', () => {\n      if (field.validity.valid) {\n        field.classList.remove('invalid');\n      } else {\n        field.classList.add('invalid');\n      }\n    });\n  });\n\n  form.addEventListener('submit', e => {\n    e.preventDefault();\n\n    const bad = Array.from(fields).find(f => !f.validity.valid);\n    if (bad) {\n      bad.classList.add('invalid');\n    //  const container = bad.closest('.events-modal-field') || document.body;\n      //  showMessage2('red', bad.validationMessage, container);\n      showMessage('red', bad.validationMessage)\n      bad.focus();\n      return;\n    }\n\n    showMessage('green', 'Thank you for registering!');\n    form.reset();\n    fields.forEach(f => f.classList.remove('invalid'));\n    close();\n  });\n\n  ready = true;\n  return true;\n}\n","\nimport Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\nimport { openEventModal } from './events-modal.js';\n\nconst eventWrapper = document.querySelector('.events-swiper .swiper-wrapper');\nconst prevBtn      = document.querySelector('.events-btn-prev');\nconst nextBtn      = document.querySelector('.events-btn-next');\n\n/* -------- Swiper -------- */\nconst eventsSwiper = new Swiper('.events-swiper', {\n  slidesPerView: 1,\n  spaceBetween: 5,\n  keyboard: {enabled: true},\n  pagination : { el: '.event-swiper-pagination', clickable: true },\n  navigation : { nextEl: nextBtn, prevEl: prevBtn },\n  breakpoints: {\n    768 : { slidesPerView: 2, spaceBetween: 24 },\n    1440: { slidesPerView: 3, spaceBetween: 24 },\n  },\n});\n\nfunction updateNav(sw) {\n  prevBtn.disabled = sw.isBeginning;\n  nextBtn.disabled = sw.isEnd;\n}\n\nupdateNav(eventsSwiper);                   \neventsSwiper.on('slideChange', () => updateNav(eventsSwiper));\n\n/* -------- modal click -------- */\neventWrapper.addEventListener('click', (evt) => {\n  const btn = evt.target.closest('.event-register');\n  if (!btn) return;    \n  openEventModal(btn.dataset.title);\n});\n","import {showMessage} from './show-message';\n\nconst formData = {\n    email: \"\"};\n\nconst form = document.querySelector('.footer-form');\n\nconst emailInput = form.elements.email; \n\nform.addEventListener('input', (event) => {\n    if (event.target.name === 'email') {\n        formData.email = event.target.value.trim();\n      emailInput.style.borderColor ='rgba(11, 5, 0, 0.60)';\n  emailInput.style.color = '#0B0500';\n    }\n});\n\nform.addEventListener('submit', (event) => {\n  const errorBorderColor = '#AD0000';\n  const errorColor= '#AD0000';\n  \n  emailInput.style.borderColor ='rgba(11, 5, 0, 0.60)';\n  emailInput.style.color = '#0B0500';\n  \n    event.preventDefault();\n    if (formData.email === \"\") {\n      showMessage('red', 'Fill please all fields.');\n      emailInput.style.borderColor = errorBorderColor;\n      emailInput.style.color = errorColor;\n        return;\n    }\n    if (!emailInput.checkValidity()){\n      showMessage('red', 'Please enter a valid email address.');\n      emailInput.style.borderColor = errorBorderColor;\n      emailInput.style.color = errorColor;\n      return;\n    }\n    console.log(formData);\n    showMessage('green', 'Message sent successfully!');\n    \n\n    formData.email = \"\";\n    form.reset();\n});\n","const scrollBtn = document.querySelector('.scroll-up');\n\nwindow.addEventListener('scroll', () => {\n  if (window.scrollY > 300) {\n    scrollBtn.classList.add('show');\n  } else {\n    scrollBtn.classList.remove('show');\n  }\n});\n\nscrollBtn.addEventListener('click', () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n"],"names":["openBtn","closeBtn","mobileMenu","menuLinks","closeMenu","link","anchor","e","target","prevBtn","nextBtn","swiper","Swiper","updateNavButtons","setupButtonWithAutoBlur","button","callback","swiperInstance","showMessage","color","message","messageData","iziToast","modal","closeButton","booksList","quantityInput","increaseButton","decreaseButton","addToCartButton","buyNowButton","event","bookId","bookData","fetchBookById","displayBookInModal","current","quantity","id","axios","error","book","renderAccordion","accordionWrapper","Accordion","loader","showLoader","hideLoader","category","categorySelect","loadMoreButton","booksAllQuantity","booksCarrentQuantity","getName","booksData","currentPage","booksShowed","booksInBox","resizeTimeout","fetchCategories","fetchBooks","createStartBooks","data","makeCategories","fetchBooksByCategory","categoryName","setAllBooksAfterClick","selectMenuItem","item","selected","all","fullList","booksSelected","markup","c","option","listMarkup","response","createBooksInBox","slice","createBookItem","Navigation","Keyboard","Pagination","updateButtonsState","el","backdrop","form","titleEl","fields","ready","openEventModal","title","initModal","close","field","bad","f","eventWrapper","eventsSwiper","updateNav","sw","evt","btn","formData","emailInput","errorBorderColor","errorColor","scrollBtn"],"mappings":"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"}